{% extends 'base.html.twig' %}

{% block title %}Ajouter un nouveau livre | BiblioHub{% endblock %}

{% block body %}
{# Fond beige clair harmonisé #}
<div class="min-h-screen bg-[#F5F1E6] py-12 px-4 flex items-center justify-center">
    
    {# CONTENEUR PRINCIPAL (max-w-2xl pour garder un formulaire compact et élégant) #}
    <div class="w-full max-w-2xl bg-white rounded-3xl shadow-xl overflow-hidden border border-[#8B5E3C]/10">
        
        {# HEADER DU FORMULAIRE - Marron Foncé #}
        <div class="bg-[#8B5E3C] p-8 text-center">
            <h1 class="text-2xl font-bold text-[#F5F1E6] flex items-center justify-center gap-3">
                <span>➕</span> Nouvel Ouvrage
            </h1>
            <p class="text-[#F5F1E6]/70 text-xs mt-2 uppercase tracking-[0.2em] font-medium">Ajouter un livre au catalogue</p>
        </div>

        <div class="p-8 sm:p-10">
            
            {# FORMULAIRE SYMFONY #}
            {{ form_start(form, {'attr': {'class': 'space-y-6'}}) }}
                
                {# Affichage des erreurs éventuelles #}
                {% if not form.vars.valid %}
                    <div class="bg-red-50 border-l-4 border-red-500 p-4 mb-6">
                        <div class="text-red-700 text-sm font-bold">{{ form_errors(form) }}</div>
                    </div>
                {% endif %}

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    {# TITRE (Prend toute la largeur) #}
                    <div class="col-span-1 md:col-span-2">
                        <label class="block text-[#8B5E3C] text-xs font-black uppercase mb-2 tracking-wide">Titre du livre</label>
                        {{ form_widget(form.titre, {'attr': {'class': 'w-full bg-[#F5F1E6]/30 border border-[#8B5E3C]/20 rounded-xl px-4 py-3 focus:border-[#A67C52] focus:ring-1 focus:ring-[#A67C52] outline-none transition', 'placeholder': 'Ex: Le Petit Prince'}}) }}
                    </div>

                    {# CATEGORIE #}
                    <div>
                        <label class="block text-[#8B5E3C] text-xs font-black uppercase mb-2 tracking-wide">Catégorie</label>
                        {{ form_widget(form.categorie, {'attr': {'class': 'w-full bg-[#F5F1E6]/30 border border-[#8B5E3C]/20 rounded-xl px-4 py-3 focus:border-[#A67C52] outline-none transition'}}) }}
                    </div>

                    {# PRIX #}
                    <div>
                        <label class="block text-[#8B5E3C] text-xs font-black uppercase mb-2 tracking-wide">Prix de vente (MAD)</label>
                        {{ form_widget(form.prix, {'attr': {'class': 'w-full bg-[#F5F1E6]/30 border border-[#8B5E3C]/20 rounded-xl px-4 py-3 focus:border-[#A67C52] outline-none transition', 'placeholder': '0.00'}}) }}
                    </div>

                    {# STOCK (Mise en avant discrète) #}
                    <div class="col-span-1 md:col-span-2 bg-[#F5F1E6]/50 p-5 rounded-2xl border border-[#8B5E3C]/10">
                        <label class="block text-[#8B5E3C] text-xs font-black uppercase mb-2 italic">Nombre d'exemplaires en stock</label>
                        {{ form_widget(form.stock, {'attr': {'class': 'w-full bg-white border border-[#8B5E3C]/20 rounded-xl px-4 py-3 focus:border-[#A67C52] outline-none transition'}}) }}
                    </div>

                    {# DESCRIPTION #}
                    <div class="col-span-1 md:col-span-2">
                        <label class="block text-[#8B5E3C] text-xs font-black uppercase mb-2 tracking-wide">Résumé de l'histoire</label>
                        {{ form_widget(form.description, {'attr': {'class': 'w-full bg-[#F5F1E6]/30 border border-[#8B5E3C]/20 rounded-xl px-4 py-3 h-32 outline-none focus:border-[#A67C52] transition resize-none', 'placeholder': 'Écrivez un court résumé...'}}) }}
                    </div>

                    {# FICHIERS (Uploads) #}
                    <div class="col-span-1 md:col-span-2 border-t border-gray-100 pt-6">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-[#8B5E3C] text-xs font-black uppercase mb-2">Image de couverture</label>
                                {{ form_widget(form.imageFile, {'attr': {'class': 'text-xs text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-bold file:bg-[#8B5E3C] file:text-white hover:file:bg-[#A67C52] cursor-pointer'}}) }}
                            </div>
                            <div>
                                <label class="block text-[#8B5E3C] text-xs font-black uppercase mb-2">Fichier Numérique (PDF)</label>
                                {{ form_widget(form.pdfFile, {'attr': {'class': 'text-xs text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-bold file:bg-[#8B5E3C] file:text-white hover:file:bg-[#A67C52] cursor-pointer'}}) }}
                            </div>
                        </div>
                    </div>
                </div>

                {# BOUTONS D'ACTION #}
                <div class="pt-10 flex flex-col sm:flex-row gap-4">
                    <button class="flex-1 bg-[#8B5E3C] hover:bg-[#A67C52] text-white font-bold py-4 rounded-2xl shadow-lg transition transform hover:-translate-y-1 active:scale-95">
                        Enregistrer l'ouvrage
                    </button>
                    <a href="{{ path('app_livre_index') }}" class="flex-1 bg-white border-2 border-[#8B5E3C] text-[#8B5E3C] hover:bg-[#F5F1E6] font-bold py-4 rounded-2xl transition text-center flex items-center justify-center">
                        Annuler
                    </a>
                </div>

            {{ form_end(form) }}

        </div>
    </div>
</div>

{# Note de bas de page #}
<div class="pb-12 bg-[#F5F1E6] text-center">
    <p class="text-[#8B5E3C]/40 text-[10px] uppercase font-bold tracking-widest">Système de gestion de bibliothèque Hub</p>
</div>
{% endblock %}