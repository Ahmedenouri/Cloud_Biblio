{% extends 'base.html.twig' %}

{% block title %}Nouveau Livre{% endblock %}

{% block body %}
<div class="min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 bg-biblio-light">
    
    <div class="max-w-3xl w-full space-y-8 bg-white p-10 rounded-2xl shadow-2xl border border-gray-100">
        
        <div class="text-center border-b border-gray-100 pb-6">
            <h2 class="text-3xl font-extrabold text-biblio-dark">
                üìö Ajouter un nouveau livre
            </h2>
            <p class="mt-2 text-sm text-gray-500">
                Remplissez les informations ci-dessous pour enrichir le catalogue.
            </p>
        </div>

        {{ form_start(form, {'attr': {'class': 'space-y-6'}}) }}
            
            <div>
                <label class="block text-sm font-bold text-gray-700 mb-1">Titre du livre</label>
                {{ form_widget(form.titre, {'attr': {'class': 'appearance-none block w-full px-3 py-3 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-biblio-accent focus:border-biblio-accent sm:text-sm transition', 'placeholder': 'Ex: Les Mis√©rables'}}) }}
                {{ form_errors(form.titre, {'attr': {'class': 'text-red-500 text-xs mt-1'}}) }}
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div>
                    <label class="block text-sm font-bold text-gray-700 mb-1">Cat√©gorie</label>
                    {{ form_widget(form.categorie, {'attr': {'class': 'block w-full px-3 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-biblio-accent focus:border-biblio-accent sm:text-sm'}}) }}
                </div>

                <div>
                    <label class="block text-sm font-bold text-gray-700 mb-1">Prix (MAD)</label>
                    {{ form_widget(form.prix, {'attr': {'class': 'block w-full px-3 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-biblio-accent focus:border-biblio-accent sm:text-sm', 'placeholder': '0.00'}}) }}
                </div>

                <div>
                    <label class="block text-sm font-bold text-gray-700 mb-1">Stock Physique</label>
                    {{ form_widget(form.stock, {'attr': {'class': 'block w-full px-3 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-biblio-accent focus:border-biblio-accent sm:text-sm', 'placeholder': 'Ex: 10'}}) }}
                </div>
            </div>

             <div>
                <label class="block text-sm font-bold text-gray-700 mb-1">Type de livre</label>
                {{ form_widget(form.type, {'attr': {'class': 'block w-full px-3 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-biblio-accent focus:border-biblio-accent sm:text-sm'}}) }}
            </div>

            <div>
                <label class="block text-sm font-bold text-gray-700 mb-1">Description / R√©sum√©</label>
                {{ form_widget(form.description, {'attr': {'class': 'block w-full px-3 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-biblio-accent focus:border-biblio-accent sm:text-sm', 'rows': '4', 'placeholder': 'R√©sum√© du livre...'}}) }}
            </div>

            <div class="bg-gray-50 p-6 rounded-xl border border-dashed border-gray-300 grid grid-cols-1 md:grid-cols-2 gap-6">
                
                <div>
                    <label class="block text-sm font-bold text-biblio-dark mb-2">üì∏ Image de couverture</label>
                    {{ form_widget(form.imageFile, {'attr': {'class': 'block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-biblio-light file:text-biblio-dark hover:file:bg-biblio-dark hover:file:text-white transition'}}) }}
                    <p class="text-xs text-gray-400 mt-1">JPG, PNG (Max 2Mo)</p>
                </div>

                <div>
                    <label class="block text-sm font-bold text-cyan-700 mb-2">üìÑ Fichier PDF (Optionnel)</label>
                    {{ form_widget(form.pdfFile, {'attr': {'class': 'block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-cyan-50 file:text-cyan-700 hover:file:bg-cyan-600 hover:file:text-white transition'}}) }}
                    <p class="text-xs text-gray-400 mt-1">PDF uniquement (Max 10Mo)</p>
                </div>

            </div>

            <div class="flex items-center justify-between pt-6 border-t border-gray-100 mt-6">
                <a href="{{ path('app_livre_index') }}" class="text-gray-500 hover:text-gray-700 font-medium text-sm flex items-center gap-1 transition">
                    <span>‚Üê</span> Retour au catalogue
                </a>
                
                <button type="submit" class="bg-biblio-dark hover:bg-biblio-accent text-white font-bold py-3 px-8 rounded-lg shadow-lg transform transition hover:-translate-y-1 hover:shadow-xl">
                    üíæ Sauvegarder le livre
                </button>
            </div>

        {{ form_end(form) }}
    </div>
</div>
{% endblock %}